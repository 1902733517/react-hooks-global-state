import{createMutableSource as n,useCallback as t,useMutableSource as r}from"react";function e(){return(e=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n}).apply(this,arguments)}var o=function(n,t){if(!n.includes(t))throw new Error("'"+t+"' not found. It must be provided in initialState as a property key.")},u=function(u,i){var c,f=Object.keys(i),a=((c={}).g=i,c.l=Object.fromEntries(f.map(function(n){return[n,new Set]})),c),s=n(a,function(n){return n.g}),p=function(n,t){var r,u,i;"production"!==process.env.NODE_ENV&&o(f,n),a.g=e({},r=a.g,((u={})[n]="function"==typeof(i=t)?i(r[n]):i,u)),a.l[n].forEach(function(n){n()})},l=function(n,t){f.forEach(function(r){n[r]!==t[r]&&a.l[r].forEach(function(n){n()})})};return{useGlobalState:function(n){"production"!==process.env.NODE_ENV&&o(f,n);var e=t(function(t){return t.g[n]},[n]),u=t(function(t,r){var e=t.l[n];return e.add(r),function(){e.delete(r)}},[n]);return[r(s,e,u),t(function(t){return p(n,t)},[n])]},getGlobalState:function(n){return"production"!==process.env.NODE_ENV&&o(f,n),a.g[n]},setGlobalState:p,getState:function(){return a.g},setState:function(n){var t=a.g;a.g=n,l(t,n)},dispatch:function(n){var t=a.g;return a.g=u(t,n),l(t,a.g),n}}},i=function(n){return u(function(n,t){return n},n)},c=function n(t,r,e){return void 0===r&&(r=t(void 0,{type:void 0})),e?e(n)(t,r):u(t,r)},f=function(){return window.__REDUX_DEVTOOLS_EXTENSION__?function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(function(n,t){return function(){return n(t.apply(void 0,arguments))}})}(function(r){return function(o,u,i){if(n=o,t=u,i)return i(r)(o,u);var c=r(o,u);return e({},c,{useGlobalState:function(n){return[c.useGlobalState(n)[0],function(){throw new Error("Update is not allowed when using DevTools")}]}})}},window.__REDUX_DEVTOOLS_EXTENSION__(),function(r){return function(o,u,i){if(i)return i(r)(o,u);var c=r(n,t),f=e({},o(u,{type:"@@redux/INIT"}),{},t),a=[];return e({},c,{getState:function(){return f},dispatch:function(n){return f=o(f,n),c.setState(f.computedStates[f.currentStateIndex].state),a.forEach(function(n){return n()}),n},subscribe:function(n){return a.push(n),function(){var t=a.indexOf(n);a.splice(t,1)}}})}}):function(n){return n};var n,t};export{i as createGlobalState,c as createStore,f as reduxDevToolsExt};
//# sourceMappingURL=index.esm.js.map
